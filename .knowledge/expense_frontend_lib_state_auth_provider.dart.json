{"is_source_file": true, "format": "Dart", "description": "This file defines an AuthProvider class that manages authentication state for a Flutter application. It handles login, logout, registration, token persistence, and user info retrieval, supporting both real and mock modes. It also interacts with external services such as SharedPreferences and an API client.", "external_files": ["package:flutter/foundation.dart", "package:flutter_dotenv/flutter_dotenv.dart", "package:shared_preferences/shared_preferences.dart", "../api/client.dart"], "external_methods": ["SharedPreferences.getInstance", "SharedPreferences.getString", "SharedPreferences.setString", "SharedPreferences.remove", "ApiClient().getJson", "ApiClient().postJson"], "published": ["initialize", "login", "register", "logout", "isInitialized", "isAuthenticated", "token", "user"], "classes": [{"name": "AuthProvider", "description": "Manages authentication state, token persistence, and user info with support for mock data mode."}], "methods": [{"name": "initialize", "description": "Initializes the authentication state, retrieving token and user info, with support for mock mode."}, {"name": "login", "description": "Authenticates the user with email and password, either via mock mode or real API, and stores the token."}, {"name": "register", "description": "Registers a new user and logs them in, supporting mock mode and real API."}, {"name": "logout", "description": "Clears stored authentication data and resets user state to guest in mock mode."}], "calls": ["SharedPreferences.getInstance", "SharedPreferences.getString", "SharedPreferences.setString", "SharedPreferences.remove", "ApiClient().getJson", "ApiClient().postJson"], "search-terms": ["AuthProvider", "token persistence", "mock authentication", "Flutter auth state", "shared preferences auth"], "state": 2, "file_id": 19, "knowledge_revision": 68, "git_revision": "ada748a5319f3cc9fdd6a36ad668b9430bc9c70d", "revision_history": [{"39": ""}, {"68": "ada748a5319f3cc9fdd6a36ad668b9430bc9c70d"}], "hash": "6f91ae214785bc8acf57672d637e28eb", "format-version": 4, "code-base-name": "expense_frontend", "filename": "expense_frontend/lib/state/auth_provider.dart"}