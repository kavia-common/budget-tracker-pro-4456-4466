{"is_source_file": true, "format": "Dart", "description": "This file defines an AuthProvider class in Dart, managing user authentication state, including login, registration, logout, and session restoration. It interacts with an API client and shared preferences for token storage.", "external_files": ["../core/api_client.dart", "../models/user.dart"], "external_methods": ["SharedPreferences.getInstance", "SharedPreferences.setString", "SharedPreferences.remove", "ApiClient.post", "ApiClient.get", "User.fromJson", "notifyListeners"], "published": [], "classes": [{"name": "AuthProvider", "description": "A ChangeNotifier class providing authentication state management, session persistence, and user profile fetching."}], "methods": [{"name": "_restoreSession", "description": "Restores session from shared preferences and fetches user profile if authenticated."}, {"name": "login", "description": "Handles user login by calling backend API, storing token, and fetching user profile."}, {"name": "register", "description": "Registers a new user and automatically attempts login."}, {"name": "logout", "description": "Logs out user by clearing token and user data."}, {"name": "fetchProfile", "description": "Fetches user profile data from backend if authenticated."}], "calls": ["SharedPreferences.getInstance", "SharedPreferences.setString", "SharedPreferences.remove", "_api.post", "_api.get", "User.fromJson", "notifyListeners"], "search-terms": ["AuthProvider", "session restoration", "shared preferences", "login method", "register method", "fetchProfile", "token management"], "state": 2, "file_id": 28, "knowledge_revision": 64, "git_revision": "", "hash": "de4cf7d1d7ff652c12a6e7de380b1ae5", "format-version": 4, "code-base-name": "expense_frontend", "filename": "expense_frontend/lib/providers/auth_provider.dart", "revision_history": [{"64": ""}]}